{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "PLR with a lightswitch\n",
    "======================\n",
    "\n",
    "This example shows how we can measure the PLR with a lightswitch in a dark room and instantly plot\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Waiting for a light to stamp...Grabbing 10 seconds of pupil.1.3d\n",
      "\n",
      "Light stamped on frame.world at 791532.0192130001\n",
      "PupilGrabber done grabbing 10 seconds of pupil.1.3d\n"
     ]
    },
    {
     "ename": "AttributeError",
     "evalue": "'NoneType' object has no attribute 'diameter_3d'",
     "output_type": "error",
     "traceback": [
      "\u001b[1;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[1;31mAttributeError\u001b[0m                            Traceback (most recent call last)",
      "\u001b[1;32m<ipython-input-7-dc7dd502824c>\u001b[0m in \u001b[0;36m<module>\u001b[1;34m\u001b[0m\n\u001b[0;32m     49\u001b[0m \u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m     50\u001b[0m \u001b[1;31m# parametrise and plot\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m---> 51\u001b[1;33m \u001b[0mplr_parameters\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mdata\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mdiameter_3d\u001b[0m\u001b[1;33m,\u001b[0m \u001b[1;36m120\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0midx\u001b[0m\u001b[1;33m,\u001b[0m \u001b[1;36m0.01\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m\u001b[0;32m     52\u001b[0m \u001b[0mplot_plr\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mdata\u001b[0m\u001b[1;33m.\u001b[0m\u001b[0mdiameter_3d\u001b[0m\u001b[1;33m,\u001b[0m \u001b[1;36m120\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0midx\u001b[0m\u001b[1;33m,\u001b[0m \u001b[1;36m1\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mvel_acc\u001b[0m\u001b[1;33m=\u001b[0m\u001b[1;32mTrue\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n",
      "\u001b[1;31mAttributeError\u001b[0m: 'NoneType' object has no attribute 'diameter_3d'"
     ]
    }
   ],
   "source": [
    "import sys\n",
    "sys.path.insert(0, '../')\n",
    "import os\n",
    "import os.path as op\n",
    "from time import sleep\n",
    "\n",
    "import numpy as np\n",
    "\n",
    "from pyplr import stlab\n",
    "from pyplr.pupil import PupilCore, unpack_data_pandas\n",
    "from pyplr.pipeline import butterworth_series\n",
    "from pyplr.plr import plr_parameters, plot_plr\n",
    "\n",
    "baseline = 2.\n",
    "duration = 5.\n",
    "\n",
    "# set up pupil\n",
    "p = PupilCore()\n",
    "\n",
    "# annotation to be sent when you flip the switch\n",
    "annotation = p.new_annotation('LIGHT_ON')\n",
    "    \n",
    "# start LightStamper and PupilGrabber\n",
    "lst_future = p.light_stamper(annotation, threshold=15, timeout=6.)\n",
    "pgr_future = p.pupil_grabber(topic='pupil.1.3d', seconds=10)\n",
    "    \n",
    "# baseline\n",
    "sleep(baseline)\n",
    "\n",
    "# flip that switch!\n",
    "# wait a second...\n",
    "# now flip it off!\n",
    "# now wait for the pgr_future\n",
    "    \n",
    "# retrieve and process pupil data\n",
    "data = unpack_data_pandas(pgr_future.result())\n",
    "data = butterworth_series(\n",
    "    data, filt_order=3, cutoff_freq=4/(120/2), fields=['diameter_3d'])\n",
    "    \n",
    "# lightstamper timestamp\n",
    "ts = lst_future.result()[1]\n",
    "    \n",
    "# find the closest timestamp in the pupil data\n",
    "idx = (np.abs(ts - data.index)).argmin()\n",
    "\n",
    "# trim the data\n",
    "data = (data.iloc[idx-240:idx+600]\n",
    "            .reset_index(inplace=True))\n",
    "\n",
    "# parametrise and plot\n",
    "plr_parameters(data.diameter_3d, 120, idx, 0.01)\n",
    "plot_plr(data.diameter_3d, 120, idx, 1, vel_acc=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "data = unpack_data_pandas(pgr_future.result())\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>id</th>\n",
       "      <th>topic</th>\n",
       "      <th>method</th>\n",
       "      <th>norm_pos</th>\n",
       "      <th>diameter</th>\n",
       "      <th>confidence</th>\n",
       "      <th>sphere</th>\n",
       "      <th>projected_sphere</th>\n",
       "      <th>circle_3d</th>\n",
       "      <th>diameter_3d</th>\n",
       "      <th>ellipse</th>\n",
       "      <th>location</th>\n",
       "      <th>model_confidence</th>\n",
       "      <th>theta</th>\n",
       "      <th>phi</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>timestamp</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>791472.839241</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.46022697824184067, 0.47818106636707736]</td>\n",
       "      <td>21.270731</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [6.006848907361025, 2.0998050068029...</td>\n",
       "      <td>{'center': [126.40558209357206, 106.6337657913...</td>\n",
       "      <td>{'center': [-0.795724229060216, 1.134388632173...</td>\n",
       "      <td>2.892747</td>\n",
       "      <td>{'center': [88.36357982243341, 100.18923525752...</td>\n",
       "      <td>[88.36357982243341, 100.18923525752115]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.663828</td>\n",
       "      <td>-2.288187</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791472.847182</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4597558465724658, 0.47774277908257856]</td>\n",
       "      <td>21.077288</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [6.006848907361025, 2.0998050068029...</td>\n",
       "      <td>{'center': [126.40558209357206, 106.6337657913...</td>\n",
       "      <td>{'center': [-0.7975130505634294, 1.17497721283...</td>\n",
       "      <td>2.866976</td>\n",
       "      <td>{'center': [88.27312254191344, 100.27338641614...</td>\n",
       "      <td>[88.27312254191344, 100.27338641614492]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.659906</td>\n",
       "      <td>-2.288104</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791472.855052</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4601827115106117, 0.47784169172487945]</td>\n",
       "      <td>21.048648</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [6.006848907361025, 2.0998050068029...</td>\n",
       "      <td>{'center': [126.40558209357206, 106.6337657913...</td>\n",
       "      <td>{'center': [-0.7920236637897018, 1.16857274798...</td>\n",
       "      <td>2.862493</td>\n",
       "      <td>{'center': [88.35508061003745, 100.25439518882...</td>\n",
       "      <td>[88.35508061003745, 100.25439518882314]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.660525</td>\n",
       "      <td>-2.287449</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791472.863328</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4599723409285325, 0.4781614200553733]</td>\n",
       "      <td>20.957316</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [6.006848907361025, 2.0998050068029...</td>\n",
       "      <td>{'center': [126.40558209357206, 106.6337657913...</td>\n",
       "      <td>{'center': [-0.7885745606933643, 1.15710972162...</td>\n",
       "      <td>2.850467</td>\n",
       "      <td>{'center': [88.31468945827824, 100.19300734936...</td>\n",
       "      <td>[88.31468945827824, 100.19300734936832]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.661632</td>\n",
       "      <td>-2.287094</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791472.871055</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4602644880622999, 0.4783418603535293]</td>\n",
       "      <td>21.205181</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [6.006848907361025, 2.0998050068029...</td>\n",
       "      <td>{'center': [126.40558209357206, 106.6337657913...</td>\n",
       "      <td>{'center': [-0.7520250827449821, 1.12987819723...</td>\n",
       "      <td>2.883828</td>\n",
       "      <td>{'center': [88.37078170796158, 100.15836281212...</td>\n",
       "      <td>[88.37078170796158, 100.15836281212236]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.664264</td>\n",
       "      <td>-2.282631</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791482.803199</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4416862696900563, 0.4640905883828028]</td>\n",
       "      <td>22.233604</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [5.847011225879715, 1.9822619855788...</td>\n",
       "      <td>{'center': [125.29674260964576, 105.9353765635...</td>\n",
       "      <td>{'center': [-0.8069683023142993, 0.34183458158...</td>\n",
       "      <td>3.077932</td>\n",
       "      <td>{'center': [84.80376378049081, 102.89460703050...</td>\n",
       "      <td>[84.80376378049081, 102.89460703050186]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.729310</td>\n",
       "      <td>-2.276288</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791482.811173</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4418078093031464, 0.46498821687563074]</td>\n",
       "      <td>22.069693</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [5.847011225879715, 1.9822619855788...</td>\n",
       "      <td>{'center': [125.29674260964576, 105.9353765635...</td>\n",
       "      <td>{'center': [-0.7861879836323595, 0.30846691268...</td>\n",
       "      <td>3.055231</td>\n",
       "      <td>{'center': [84.82709938620411, 102.72226235987...</td>\n",
       "      <td>[84.82709938620411, 102.7222623598789]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.732562</td>\n",
       "      <td>-2.274077</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791482.819144</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.4426407433232445, 0.465719640588765]</td>\n",
       "      <td>21.921521</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [5.847011225879715, 1.9822619855788...</td>\n",
       "      <td>{'center': [125.29674260964576, 105.9353765635...</td>\n",
       "      <td>{'center': [-0.7808716784981424, 0.31817317327...</td>\n",
       "      <td>3.033502</td>\n",
       "      <td>{'center': [84.98702271806295, 102.58182900695...</td>\n",
       "      <td>[84.98702271806295, 102.58182900695711]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.731616</td>\n",
       "      <td>-2.273267</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791482.827238</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.44270705943381433, 0.467470452613732]</td>\n",
       "      <td>22.049204</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [5.847011225879715, 1.9822619855788...</td>\n",
       "      <td>{'center': [125.29674260964576, 105.9353765635...</td>\n",
       "      <td>{'center': [-0.7816366697722161, 0.30777399719...</td>\n",
       "      <td>3.051526</td>\n",
       "      <td>{'center': [84.99975541129236, 102.24567309816...</td>\n",
       "      <td>[84.99975541129236, 102.24567309816345]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.732629</td>\n",
       "      <td>-2.273504</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>791482.835209</th>\n",
       "      <td>1</td>\n",
       "      <td>pupil.1.3d</td>\n",
       "      <td>pye3d 0.0.4 real-time</td>\n",
       "      <td>[0.44351400803404806, 0.4680453601548191]</td>\n",
       "      <td>22.123317</td>\n",
       "      <td>1.0</td>\n",
       "      <td>{'center': [5.847011225879715, 1.9822619855788...</td>\n",
       "      <td>{'center': [125.29674260964576, 105.9353765635...</td>\n",
       "      <td>{'center': [-0.7734888480913913, 0.30449718528...</td>\n",
       "      <td>3.060588</td>\n",
       "      <td>{'center': [85.15468954253723, 102.13529085027...</td>\n",
       "      <td>[85.15468954253723, 102.13529085027473]</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.732949</td>\n",
       "      <td>-2.272508</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1237 rows × 15 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "               id       topic                 method  \\\n",
       "timestamp                                              \n",
       "791472.839241   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791472.847182   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791472.855052   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791472.863328   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791472.871055   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "...            ..         ...                    ...   \n",
       "791482.803199   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791482.811173   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791482.819144   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791482.827238   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "791482.835209   1  pupil.1.3d  pye3d 0.0.4 real-time   \n",
       "\n",
       "                                                 norm_pos   diameter  \\\n",
       "timestamp                                                              \n",
       "791472.839241  [0.46022697824184067, 0.47818106636707736]  21.270731   \n",
       "791472.847182   [0.4597558465724658, 0.47774277908257856]  21.077288   \n",
       "791472.855052   [0.4601827115106117, 0.47784169172487945]  21.048648   \n",
       "791472.863328    [0.4599723409285325, 0.4781614200553733]  20.957316   \n",
       "791472.871055    [0.4602644880622999, 0.4783418603535293]  21.205181   \n",
       "...                                                   ...        ...   \n",
       "791482.803199    [0.4416862696900563, 0.4640905883828028]  22.233604   \n",
       "791482.811173   [0.4418078093031464, 0.46498821687563074]  22.069693   \n",
       "791482.819144     [0.4426407433232445, 0.465719640588765]  21.921521   \n",
       "791482.827238    [0.44270705943381433, 0.467470452613732]  22.049204   \n",
       "791482.835209   [0.44351400803404806, 0.4680453601548191]  22.123317   \n",
       "\n",
       "               confidence                                             sphere  \\\n",
       "timestamp                                                                      \n",
       "791472.839241         1.0  {'center': [6.006848907361025, 2.0998050068029...   \n",
       "791472.847182         1.0  {'center': [6.006848907361025, 2.0998050068029...   \n",
       "791472.855052         1.0  {'center': [6.006848907361025, 2.0998050068029...   \n",
       "791472.863328         1.0  {'center': [6.006848907361025, 2.0998050068029...   \n",
       "791472.871055         1.0  {'center': [6.006848907361025, 2.0998050068029...   \n",
       "...                   ...                                                ...   \n",
       "791482.803199         1.0  {'center': [5.847011225879715, 1.9822619855788...   \n",
       "791482.811173         1.0  {'center': [5.847011225879715, 1.9822619855788...   \n",
       "791482.819144         1.0  {'center': [5.847011225879715, 1.9822619855788...   \n",
       "791482.827238         1.0  {'center': [5.847011225879715, 1.9822619855788...   \n",
       "791482.835209         1.0  {'center': [5.847011225879715, 1.9822619855788...   \n",
       "\n",
       "                                                projected_sphere  \\\n",
       "timestamp                                                          \n",
       "791472.839241  {'center': [126.40558209357206, 106.6337657913...   \n",
       "791472.847182  {'center': [126.40558209357206, 106.6337657913...   \n",
       "791472.855052  {'center': [126.40558209357206, 106.6337657913...   \n",
       "791472.863328  {'center': [126.40558209357206, 106.6337657913...   \n",
       "791472.871055  {'center': [126.40558209357206, 106.6337657913...   \n",
       "...                                                          ...   \n",
       "791482.803199  {'center': [125.29674260964576, 105.9353765635...   \n",
       "791482.811173  {'center': [125.29674260964576, 105.9353765635...   \n",
       "791482.819144  {'center': [125.29674260964576, 105.9353765635...   \n",
       "791482.827238  {'center': [125.29674260964576, 105.9353765635...   \n",
       "791482.835209  {'center': [125.29674260964576, 105.9353765635...   \n",
       "\n",
       "                                                       circle_3d  diameter_3d  \\\n",
       "timestamp                                                                       \n",
       "791472.839241  {'center': [-0.795724229060216, 1.134388632173...     2.892747   \n",
       "791472.847182  {'center': [-0.7975130505634294, 1.17497721283...     2.866976   \n",
       "791472.855052  {'center': [-0.7920236637897018, 1.16857274798...     2.862493   \n",
       "791472.863328  {'center': [-0.7885745606933643, 1.15710972162...     2.850467   \n",
       "791472.871055  {'center': [-0.7520250827449821, 1.12987819723...     2.883828   \n",
       "...                                                          ...          ...   \n",
       "791482.803199  {'center': [-0.8069683023142993, 0.34183458158...     3.077932   \n",
       "791482.811173  {'center': [-0.7861879836323595, 0.30846691268...     3.055231   \n",
       "791482.819144  {'center': [-0.7808716784981424, 0.31817317327...     3.033502   \n",
       "791482.827238  {'center': [-0.7816366697722161, 0.30777399719...     3.051526   \n",
       "791482.835209  {'center': [-0.7734888480913913, 0.30449718528...     3.060588   \n",
       "\n",
       "                                                         ellipse  \\\n",
       "timestamp                                                          \n",
       "791472.839241  {'center': [88.36357982243341, 100.18923525752...   \n",
       "791472.847182  {'center': [88.27312254191344, 100.27338641614...   \n",
       "791472.855052  {'center': [88.35508061003745, 100.25439518882...   \n",
       "791472.863328  {'center': [88.31468945827824, 100.19300734936...   \n",
       "791472.871055  {'center': [88.37078170796158, 100.15836281212...   \n",
       "...                                                          ...   \n",
       "791482.803199  {'center': [84.80376378049081, 102.89460703050...   \n",
       "791482.811173  {'center': [84.82709938620411, 102.72226235987...   \n",
       "791482.819144  {'center': [84.98702271806295, 102.58182900695...   \n",
       "791482.827238  {'center': [84.99975541129236, 102.24567309816...   \n",
       "791482.835209  {'center': [85.15468954253723, 102.13529085027...   \n",
       "\n",
       "                                              location  model_confidence  \\\n",
       "timestamp                                                                  \n",
       "791472.839241  [88.36357982243341, 100.18923525752115]               1.0   \n",
       "791472.847182  [88.27312254191344, 100.27338641614492]               1.0   \n",
       "791472.855052  [88.35508061003745, 100.25439518882314]               1.0   \n",
       "791472.863328  [88.31468945827824, 100.19300734936832]               1.0   \n",
       "791472.871055  [88.37078170796158, 100.15836281212236]               1.0   \n",
       "...                                                ...               ...   \n",
       "791482.803199  [84.80376378049081, 102.89460703050186]               1.0   \n",
       "791482.811173   [84.82709938620411, 102.7222623598789]               1.0   \n",
       "791482.819144  [84.98702271806295, 102.58182900695711]               1.0   \n",
       "791482.827238  [84.99975541129236, 102.24567309816345]               1.0   \n",
       "791482.835209  [85.15468954253723, 102.13529085027473]               1.0   \n",
       "\n",
       "                  theta       phi  \n",
       "timestamp                          \n",
       "791472.839241  1.663828 -2.288187  \n",
       "791472.847182  1.659906 -2.288104  \n",
       "791472.855052  1.660525 -2.287449  \n",
       "791472.863328  1.661632 -2.287094  \n",
       "791472.871055  1.664264 -2.282631  \n",
       "...                 ...       ...  \n",
       "791482.803199  1.729310 -2.276288  \n",
       "791482.811173  1.732562 -2.274077  \n",
       "791482.819144  1.731616 -2.273267  \n",
       "791482.827238  1.732629 -2.273504  \n",
       "791482.835209  1.732949 -2.272508  \n",
       "\n",
       "[1237 rows x 15 columns]"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.9"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
